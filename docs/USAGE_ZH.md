# CAN总线仿真使用指南

## 概述
本程序通过JSON配置文件定义的帧数据，模拟控制器局域网(CAN)总线通信过程。

## 数据格式说明
- **ID**: 32位消息标识符(十六进制格式)，决定消息优先级和类型
  - 示例：`0x123`(十进制291)可能代表汽车系统中的发动机数据
  - 优先级规则：ID值越小优先级越高
- **Data**: 字节数组有效负载(标准CAN 2.0帧最多8字节)
  - 示例：`[1, 2, 3, 4]`可解释为：
    - 转速RPM = 258 (1*256 + 2)
    - 温度 = 768 (3*256 + 4)

## 配置文件说明
### send.json
包含待发送的帧数据：
```json
[
  {
    "id": 291,
    "data": [1, 2, 3, 4]
  },
  {
    "id": 292,
    "data": [5, 6, 7, 8]
  }
]
```

### receive.json
包含模拟驱动接收的帧数据：
```json
[
  {
    "id": 291,
    "data": [9, 10, 11, 12]
  },
  {
    "id": 292,
    "data": [13, 14, 15, 16]
  }
]
```

## 程序运行步骤
1. 确保已安装Go 1.25+
2. 执行命令：`go run main.go`
3. 预期输出显示发送/接收的帧：
```
Send: ID=0x123 Data=[1 2 3 4]
Send: ID=0x124 Data=[5 6 7 8]
Receive: ID=0x123 Data=[9 10 11 12]
Receive: ID=0x124 Data=[13 14 15 16]
```

## 定制化说明
- 修改`src/send.json`/`src/receive.json`模拟不同场景
- 扩展`src/can.go`添加真实硬件驱动
- 通过扩展Frame结构实现其他CAN协议(J1939, CANopen)